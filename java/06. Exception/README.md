# 예외(Exception)

## 예외의 개념

> 💡 오류는 개발자가 해결할 수 없는 치명적인 상황이지만 `예외(Exception)`는 개발자가 해결할 수 있는 문제

<br />

## 예외의 종류

> 💡 java.lang 패키지에 있는 Throwable 클래스의 자식 객체

- 예외를 구분하는 이유는 프로그램의 성능
- 모든 상황에서 예외 처리를 한다면 과부하가 걸릴 수 있기 때문에 `일반 예외`만 `컴파일러`가 확인
- `실행 예외`는 `코드에서 처리` 또는 `JVM`에게 맡기든지 개발자가 선택

### 실행 예외

> 💡 `개발자의 실수`로 발생할 수 있으며, 예외 처리를 하지 않아도 컴파일할 수 있는 `비검사형 예외`

- 프로그램 실행 도중 예외가 발생하면 JVM은 해당하는 실행 예외 객체 생성

| 대표적인 실행 예외 | 발생 이유 |
| ----- | ----- |
| ArithmeticException | 0으로 나누기와 같은 부적절한 산술 연산을 수행할 때 발생 |
| IllegalArgumentException | 메서드에 부적절한 인수를 전달할 때 발생 |
| IndexOutOfBoundsException | 범위를 벗어난 인덱스를 사용할 때 발생 |
| NoSuchElementException | 요구한 원소가 없을 때 발생 |
| NullPointerException | null 값을 가진 참조 변수에 접근할 때 발생 |
| NumberFormatException | 숫자를 바꿀 수 없는 문자열을 숫자로 변환하려 할 때 발생 |


### 일반 예외

> 💡 예외 처리를 하지 않으면 `컴파일 오류`가 발생하므로 꼭 처리해야 하는 `검사형 예외`

- 컴파일러는 일반 예외가 발생할 가능성이 있는 프로그램을 발견하면 컴파일 오류를 발생시킴
- 개발자는 `예외 처리 코드`를 반드시 추가해야함

| 대표적인 일반 예외 | 발생 이유 |
| ----- | ----- |
| ClassNotFoundException | 존재하지 않는 클래스를 사용하려고 할 때 발생 |
| InterruptedException | 인터럽트(스레드가 다른 스레드에 의해 중단) 되었을 때 발생 |
| IlliegalAccessException | 클래스의 접근이 금지되었을 때 |
| NoSuchFieldException | 클래스가 명시한 필드를 포함하지 않을 때 발생 | 
| NoSuchMethodException | 클래스가 명시한 메서드를 포함하지 않을 때 발생 |
| IOException |  입출력 문제가 있을 때 발생 |

<br />

## 예외처리 방법

### 예외 잡아 처리하기(try ~ catch)

> 💡 `예외가 발생한 시점`에 예외 객체를 잡아 `바로 처리`할 때 사용

- 예외는 여러 개 발생할 수 있으므로 try 블록과 다수의 catch 블록으로 구성될 수 있음
  - `try 블록` : 예외가 발생할 가능성이 있는 실행문 포함
  - `catch 블록` : try 블록에서 발생한 예외 객체를 가로채 처리한 후 프로그램 계속 진행
- `finally 블록` : 예외 발생 여부와 관계없이 무조건 수행할 실행문 

```java
try {
  예외가 발생할 수 있는 실행문;
} catch(예외 클래스 1 | 예외 클래스 2 변수) {
  핸들러;
} catch(예외 클래스3 변수) {
  핸들러
} finally {
  예외 발생 여부와 관계없이 수행할 실행문;
}
```

- Throwable 클래스 주요 메서드

| 메서드 | 설명 |
| -- | -- |
| getMessage() | Throwable 객체의 자세한 메시지 반환 |
| toString() | Throwable 객체의 간단한 메시지 반환 |
| printStackTrace() | Throwable 객체와 추적 정보를 화면에 출력 |


### 예외 떠넘기기(throws)

> 💡 메서드에서 발생한 예외를 내부에서 처리하기 부담스러울 때 `throws 키워드`를 사용해 `예외를 상위 코드 블록으로 양도`

- 현재 메서드에서 예외를 처리하지 않고 현재 메서드를 호출한 곳으로 발생한 예외 객체를 대신 처리해달라고 떠넘기는 것
- 특히, 검사형 예외를 일으킬 수 있는 메서드는 메서드 선언부에서 throws 절을 이용해 해당 예외 객체를 상위 단계로 떠넘겨야 함